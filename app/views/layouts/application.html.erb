<!DOCTYPE html >
<html lang="en">
<head>
	<meta charset="utf-8">
  <title><%= "AJC LegiTracker | #{@title}" %></title>
  <%= csrf_meta_tag %>

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <%= stylesheet_link_tag 'blueprint/screen', :media => 'screen' %>
  <%= stylesheet_link_tag 'blueprint/print', :media => 'print' %>
  <!--[if lt IE 8]><%= stylesheet_link_tag 'blueprint/ie' %><![endif]-->
  <%= stylesheet_link_tag 'custom', :media => 'screen' %>
  <%= stylesheet_link_tag 'http://fonts.googleapis.com/css?family=Orbitron', :media =>'screen'%>


 <!-- scrollbar -->
	<%= stylesheet_link_tag 'jquery.mCustomScrollbar.css', :media=>'screen' %>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
	<%= javascript_include_tag 'jquery.easing.1.3.js' %>
	<%= javascript_include_tag 'jquery.mousewheel.min.js' %>


</head>
<body>
<div class="container">
	  
	<header id="header" class="span-24 first last">
      
			<div id="logo" class="span-16 first">
			   <h1> <%= link_to 'LegiTracker', root_url %></h1>
	      	</div>

		    <div id="search" class="span-7 last">
		        <%= form_for @search, :url => bills_path, :class => 'inline', :html => {:method => :get} do |f| %>
		          <%= f.search_field :number_or_short_title_or_title_or_b_status_contains, :placeholder => 'Quick search' %> <%= image_submit_tag 'ic_search.png' %>
		        <% end %>
		        <%= link_to "Advanced Search  "   , search_path, :class => 'advanced_search' %>
		    </div>

	</header>

<div id="navhed" class="span-24 first last">
		<nav class="first span-12">
				<ul>
					<li><%= link_to "Watched bills", root_path, :class => current_class?(root_path) %></li>
					<li><%= link_to "Daily status report", statuses_path, :class => current_class?(statuses_path)  %></li>
					<li><%= link_to "Members", members_path, :class => current_class?(members_path)  %></li>
					<li><%= link_to "Committees",'#', :class => current_class?('#')  %></li>
				</ul>
		</nav>
		<div id="user_nav" class="span-9">
			<% if user_signed_in? %>
				Signed in as <em> <%= current_user.email %></em> &nbsp; Not you?
				<%= link_to "Sign out", destroy_user_session_path %>
			<% else %>
				<%= link_to "Sign up", new_user_registration_path %> or
				<%= link_to "Sign in", new_user_session_path %>
			<% end %>
		</div>
		
	</div>
	
	<div id="content" class="span-24 first last ">
		
		<%= yield %>
		
		<footer id="footer" class="span-24 first last">
			<p>Copyright &copy;<%= Date.today.year %></p>
	  	</footer>
	 </div>
</div>


<!-- 
malihu custom scrollbar function parameters: 
1) scroll type (values: "vertical" or "horizontal")
2) scroll easing amount (0 for no easing) 
3) scroll easing type 
4) extra bottom scrolling space for vertical scroll type only (minimum value: 1)
5) scrollbar height/width adjustment (values: "auto" or "fixed")
6) mouse-wheel support (values: "yes" or "no")
7) scrolling via buttons support (values: "yes" or "no")
8) buttons scrolling speed (values: 1-20, 1 being the slowest)
-->

<%= javascript_tag do %>
	Event.observe(window, 'load',
		function() {
<!-- >$(window).load(function() -->{
	mCustomScrollbars();
});

function mCustomScrollbars(){
	$("#status").mCustomScrollbar("vertical",300,"easeOutCirc",1.05,"fixed","yes","yes",15); 
}

<!-- function to fix the -10000 pixel limit of jquery.animate -->

$.fx.prototype.cur = function(){
    if ( this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null) ) {
      return this.elem[ this.prop ];
    }
    var r = parseFloat( jQuery.css( this.elem, this.prop ) );
    return typeof r == 'undefined' ? 0 : r;
}

<!-- function to load new content dynamically -->
function LoadNewContent(id,file){
	$("#"+id+" .customScrollBox .content").load(file,function(){
		mCustomScrollbars();
	});
}
<% end %>
<%= javascript_include_tag  'jquery.mCustomScrollbar.js' %>

</body>
</html>


